(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-914dc9aa"],{"0b42":function(t,e,c){var n=c("da84"),a=c("e8b5"),o=c("68ee"),r=c("861d"),l=c("b622"),i=l("species"),d=n.Array;t.exports=function(t){var e;return a(t)&&(e=t.constructor,o(e)&&(e===d||a(e.prototype))?e=void 0:r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?d:e}},"1dde":function(t,e,c){var n=c("d039"),a=c("b622"),o=c("2d00"),r=a("species");t.exports=function(t){return o>=51||!n((function(){var e=[],c=e.constructor={};return c[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var n=c("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},8418:function(t,e,c){"use strict";var n=c("a04b"),a=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var r=n(e);r in t?a.f(t,r,o(0,c)):t[r]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),a=c("da84"),o=c("d039"),r=c("e8b5"),l=c("861d"),i=c("7b0b"),d=c("07fa"),u=c("8418"),s=c("65f0"),b=c("1dde"),p=c("b622"),m=c("2d00"),f=p("isConcatSpreadable"),O=9007199254740991,j="Maximum allowed index exceeded",h=a.TypeError,v=m>=51||!o((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=b("concat"),E=function(t){if(!l(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)},V=!v||!g;n({target:"Array",proto:!0,forced:V},{concat:function(t){var e,c,n,a,o,r=i(this),l=s(r,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],E(o)){if(a=d(o),b+a>O)throw h(j);for(c=0;c<a;c++,b++)c in o&&u(l,b,o[c])}else{if(b>=O)throw h(j);u(l,b++,o)}return l.length=b,l}})},cc55:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a={class:"container"},o=Object(n["createElementVNode"])("h3",null,"我是購物車列表唷 ^_^",-1),r={class:"mt-4"},l={class:"text-end"},i={class:"table align-middle"},d=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th"),Object(n["createElementVNode"])("th",null,"品名"),Object(n["createElementVNode"])("th",{style:{width:"150px"}},"數量/單位"),Object(n["createElementVNode"])("th",null,"單價")])],-1),u=Object(n["createElementVNode"])("tr",null,null,-1),s=["onClick"],b={key:0,class:"text-success"},p={class:"input-group input-group-sm"},m={class:"input-group mb-3"},f=["onUpdate:modelValue","onBlur"],O={class:"input-group-text",id:"basic-addon2"},j={class:"text-end"},h={key:0,class:"text-success"},v=Object(n["createElementVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),g={class:"text-end"},E={key:0},V=Object(n["createElementVNode"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),N={class:"text-end text-success"};function x(t,e,c,x,y,k){var C=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[o,Object(n["createVNode"])(C,{active:y.loadingStatus},null,8,["active"]),Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("button",{class:"btn btn-outline-danger",type:"button",onClick:e[0]||(e[0]=function(){return k.deleteCartAll&&k.deleteCartAll.apply(k,arguments)})}," 清空購物車 ")]),Object(n["createElementVNode"])("table",i,[d,Object(n["createElementVNode"])("tbody",null,[y.cartData.carts?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[u,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(y.cartData.carts,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return k.deleteCart(t)}}," x ",8,s)]),Object(n["createElementVNode"])("td",null,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.product.title)+" ",1),t.coupon?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",b,"已套用優惠券")):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("div",m,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":function(e){return t.qty=e},onBlur:function(e){return k.updateCart(t)},min:"1",type:"number",class:"form-control"},null,40,f),[[n["vModelText"],t.qty,void 0,{number:!0}]]),Object(n["createElementVNode"])("span",O,Object(n["toDisplayString"])(t.product.unit),1)])])]),Object(n["createElementVNode"])("td",j,[t.final_total!=t.total?(Object(n["openBlock"])(),Object(n["createElementBlock"])("small",h,"折扣價：")):Object(n["createCommentVNode"])("",!0),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(t.final_total),1)])])})),128))],64)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("tfoot",null,[Object(n["createElementVNode"])("tr",null,[v,Object(n["createElementVNode"])("td",g,Object(n["toDisplayString"])(y.cartData.total),1)]),y.cartData.final_total!=y.cartData.total?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",E,[V,Object(n["createElementVNode"])("td",N,Object(n["toDisplayString"])(y.cartData.final_total),1)])):Object(n["createCommentVNode"])("",!0)])])])])}c("99af");var y={data:function(){return{loadingStatus:!1,cartData:{}}},methods:{getCart:function(){var t=this;this.loadingStatus=!0;var e="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("farmerlin731","/cart");this.$http.get(e).then((function(e){t.cartData=e.data.data,t.loadingStatus=!1})).catch((function(e){alert("CART ERROR"),console.dir(e),t.loadingStatus=!1}))},updateCart:function(t){var e=this;this.loadingStatus=!0;var c={product_id:t.id,qty:t.qty},n="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("farmerlin731","/cart/").concat(t.id);this.$http.put(n,{data:c}).then((function(){e.getCart(),e.loadingStatus=!1})).catch((function(t){console.dir(t),e.loadingStatus=!1}))},deleteCart:function(t){var e=this;this.loadingStatus=!0;var c="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("farmerlin731","/cart/").concat(t.id);this.$http.delete(c).then((function(){e.loadingStatus=!1,e.getCart()})).catch((function(t){console.dir(t),e.loadingStatus=!1}))},deleteCartAll:function(){var t=this;this.loadingStatus=!0;var e="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("farmerlin731","/carts");this.$http.delete(e).then((function(){t.loadingStatus=!1,t.getCart()})).catch((function(e){console.dir(e),t.loadingStatus=!1}))}},mounted:function(){this.getCart()}},k=c("6b0d"),C=c.n(k);const S=C()(y,[["render",x]]);e["default"]=S},e8b5:function(t,e,c){var n=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-914dc9aa.56f4b377.js.map